<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# aggregator

```go
import "github.com/zyedidia/generic/aggregator"
```

Package aggregator provides interfaces of aggregator\, which is used by data structures to aggregate values of a range\.

## Index

- [type Aggregator](<#type-aggregator>)
  - [func NewMinMaxAggregator[V any](less g.LessFn[V]) Aggregator[V, minMaxAgg[V], *minMaxRV[V]]](<#func-newminmaxaggregator>)
  - [func NewRangeAssignAggregator[V any]() Aggregator[V, rangeAssignAgg[V], rangeAssignRV[V]]](<#func-newrangeassignaggregator>)
  - [func NewValueAggregator[V any]() Aggregator[V, V, *V]](<#func-newvalueaggregator>)
- [type Array](<#type-array>)
  - [func NewArray[V, A, R any](size int, aggregator Aggregator[V, A, R]) *Array[V, A, R]](<#func-newarray>)
  - [func (a *Array[V, A, R]) Get(key int) V](<#func-arrayv-a-r-get>)
  - [func (a *Array[V, A, R]) Put(key int, value V)](<#func-arrayv-a-r-put>)
  - [func (a *Array[V, A, R]) Range(l, r int) R](<#func-arrayv-a-r-range>)
  - [func (a *Array[V, A, R]) Size() int](<#func-arrayv-a-r-size>)


## type [Aggregator](<https://github.com/zjkmxy/generic/blob/master/aggregator/aggregator.go#L13-L36>)

Aggregator is an interface for aggregating values from a range\. V is the value type A is the structure stored at each node which is used for aggregation\. R is the range\-aggregated view type

```go
type Aggregator[V, A, R any] interface {
    // PopUp aggregates values from the children of the parent node.
    // PopUp should be called on 'root' after any node in its subtree is updated,
    // including itself.
    PopUp(root *A, children []*A) *A

    // PushDown populates the updates attached at a node to its children.
    // PushDown should be called on 'root' every time before one of its
    // children is accessed, or 'root' is modified.
    PushDown(root *A, children []*A)

    // FromValue generates an A from a value.
    FromValue(value V) A

    // Value returns the value stored in 'node'.
    Value(node *A) V

    // RangeView returns the aggregated view of a range.
    // 'subTrees' contains the aggregators of the roots of subtrees
    // which are included in the range as a whole.
    // 'values' contains the aggregators of the nodes that are
    // included in the range themselves, excluding their children.
    RangeView(subTrees, values []*A) R
}
```

### func [NewMinMaxAggregator](<https://github.com/zjkmxy/generic/blob/master/aggregator/aggregator.go#L178>)

```go
func NewMinMaxAggregator[V any](less g.LessFn[V]) Aggregator[V, minMaxAgg[V], *minMaxRV[V]]
```

NewMinMaxAggregator creates a MinMaxAggregator\, which collects minimal and maximal values in a range\.

### func [NewRangeAssignAggregator](<https://github.com/zjkmxy/generic/blob/master/aggregator/aggregator.go#L252>)

```go
func NewRangeAssignAggregator[V any]() Aggregator[V, rangeAssignAgg[V], rangeAssignRV[V]]
```

NewRangeSetAggregator creates a RangeAssignAggregator\, which can update the values associated to a range of keys\.

### func [NewValueAggregator](<https://github.com/zjkmxy/generic/blob/master/aggregator/aggregator.go#L63>)

```go
func NewValueAggregator[V any]() Aggregator[V, V, *V]
```

NewValueAggregator creates a ValueAggregator\, which only stores the value\.

## type [Array](<https://github.com/zjkmxy/generic/blob/master/aggregator/array.go#L12-L15>)

Array is an array designed to test aggregators\. The first element of the array is the root node\, and the rest of the elements are the children of the root node\. For example\, if the size is 4\, the structure will be

```
[0]
├─ [1]
├─ [2]
└─ [3]
```

```go
type Array[V, A, R any] struct {
    // contains filtered or unexported fields
}
```

### func [NewArray](<https://github.com/zjkmxy/generic/blob/master/aggregator/array.go#L61>)

```go
func NewArray[V, A, R any](size int, aggregator Aggregator[V, A, R]) *Array[V, A, R]
```

NewArray returns an empty array for test with the given size and aggregator\.

### func \(\*Array\[V\, A\, R\]\) [Get](<https://github.com/zjkmxy/generic/blob/master/aggregator/array.go#L31>)

```go
func (a *Array[V, A, R]) Get(key int) V
```

Get returns the value of index 'key'\.

### func \(\*Array\[V\, A\, R\]\) [Put](<https://github.com/zjkmxy/generic/blob/master/aggregator/array.go#L39>)

```go
func (a *Array[V, A, R]) Put(key int, value V)
```

Put updates the 'value' of index 'key'\.

### func \(\*Array\[V\, A\, R\]\) [Range](<https://github.com/zjkmxy/generic/blob/master/aggregator/array.go#L48>)

```go
func (a *Array[V, A, R]) Range(l, r int) R
```

Range returns the aggregator associated with key range \[l\, r\)\, which can be used to obtain statistics or do range\-based update\. Note that the range is only valid before next operation\.

### func \(\*Array\[V\, A\, R\]\) [Size](<https://github.com/zjkmxy/generic/blob/master/aggregator/array.go#L18>)

```go
func (a *Array[V, A, R]) Size() int
```

Size returns the number of elements in the array\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
